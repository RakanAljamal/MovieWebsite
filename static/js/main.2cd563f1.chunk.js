(this.webpackJsonpmymovie=this.webpackJsonpmymovie||[]).push([[0],{17:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){},28:function(e,t,a){},41:function(e,t,a){e.exports=a(78)},46:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(38),l=a.n(o),i=(a(46),a(28),a(17),a(9)),r=a.n(i),s=a(1),m=a(3),u=a.n(m),d=a(4),v=(a(19),a(65),function(e){var t,a=e.id,o=e.name,l=e.photo,i=e.desc,r=e.youtube,m=e.edit,d=Object(n.useState)(o),v=Object(s.a)(d,2),h=v[0],p=v[1],E=Object(n.useState)(l),f=Object(s.a)(E,2),b=f[0],g=f[1],N=Object(n.useState)(i),y=Object(s.a)(N,2),j=y[0],O=y[1],w=Object(n.useState)(r),C=Object(s.a)(w,2),S=C[0],x=C[1],k=Object(n.useState)(!1),D=Object(s.a)(k,2),M=D[0],P=D[1];return m?c.a.createElement("div",{className:"movie-editing"},c.a.createElement("form",{className:"form-editing",onSubmit:function(e){e.preventDefault(),u.a.put("http://localhost:8080/api/movie",{id:a,movieName:h,moviePhoto:b,movieDescription:j,movieYoutube:S}),setTimeout((function(){return m(0)}),100)}},c.a.createElement("h1",null,"Movie Name")," ",c.a.createElement("br",null),c.a.createElement("input",{autoComplete:"off",type:"text",name:"movieName",value:h,onChange:function(e){return p(e.target.value)}}),c.a.createElement("h1",null,"  Movie Description"),c.a.createElement("br",null),c.a.createElement("input",{type:"text",name:"movieDesc",value:j,onChange:function(e){return O(e.target.value)}}),c.a.createElement("h1",null," Photo Link "),c.a.createElement("br",null),c.a.createElement("input",{type:"text",name:"moviePhoto",value:b,onChange:function(e){return g(e.target.value)}}),c.a.createElement("h1",null," Youtube ID ")," ",c.a.createElement("br",null),c.a.createElement("input",{type:"text",name:"movieYoutube",value:S,onChange:function(e){return x(e.target.value)}}),c.a.createElement("button",{className:"save-button",type:"submit"},"SAVE"))):c.a.createElement("div",{onMouseEnter:function(){var e=document.querySelector("#movie-photo-".concat(a));t=setTimeout((function(){P(!0),e&&e.setAttribute("style","width:450px;")}),3e3)},onMouseLeave:function(){document.querySelector("#movie-photo-".concat(a));P(!1),clearTimeout(t)}},c.a.createElement("div",{className:"inside-photo",style:{background:"url(".concat(b,") center center/cover ")}},M?c.a.createElement("video",{autoPlay:!0,width:"1200",height:"1200"},c.a.createElement("source",{src:"".concat(h.split(" ").join("_").toLowerCase(),"_trailer.mp4"),type:"video/mp4"}),c.a.createElement("source",{src:"".concat(h.split(" ").join("_").toLowerCase(),"_trailer.wpm"),type:"video/wpm"}),c.a.createElement("p",{className:"vjs-no-js"},"To view this video please enable JavaScript, and consider upgrading to a web browser that")):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"movie-name"},c.a.createElement("span",{className:"movie-title"},h)),c.a.createElement("h5",{className:"movie-desc"},j.substring(0,180)," "))))});v.defaultProps={name:"Movie",desc:"Desc",photo:"https://mfiles.alphacoders.com/770/thumb-770258.jpg"};var h=v,p=a(12),E=a(13),f=a(15),b=a(14),g=a(16),N=a(10),y=(a(22),a(66),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"search-movie-flex"},c.a.createElement("div",{className:"search-movie-flex-photo"},c.a.createElement("img",{src:this.props.photo,alt:""})),c.a.createElement("div",{className:"search-movie-flex-title"},c.a.createElement("h1",null,this.props.name)))}}]),t}(n.Component));y.defaultProps={photo:"None",name:"None"};var j=y,O=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).searchClicked=function(){var e=document.getElementById("search-box"),t=document.getElementById("inside-search");e.className="show",t.focus()},a.handleChange=function(e){a.setState({searchValue:e.target.value})},a.handleSubmit=function(e){a.setState({redirect:!a.state.redirect}),a.setState({hideSearch:!1}),e.preventDefault()},a.showMoveis=function(){return a.state.sResult.map((function(e){return c.a.createElement("span",{className:"search-result-link"},c.a.createElement(d.b,{to:"/movie/".concat(e.id)},c.a.createElement(j,{name:e.movieName,photo:e.moviePhoto})))}))},a.inputRef=c.a.createRef(),a.state={searchValue:"",redirect:!1,sResult:[],dataFetched:!1},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("click",(function(){var t=!1,a=document.getElementById("search-results");document.querySelectorAll(":hover").forEach((function(e){e!==document.getElementById("search-box")&&e!==document.querySelector(".search-result")||(t=!0)})),a.className=t&&e.state.searchValue?"search-result-haha":"search-result"}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(t.searchValue!==this.state.searchValue){!function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(u.a.get("http://localhost:8080/api/smovie/".concat(a.state.searchValue,"?limit=4")));case 2:e=t.sent,a.setState({sResult:e.data});case 4:case"end":return t.stop()}}))}(),document.getElementById("search-results").className=this.state.searchValue&&document.activeElement===document.getElementById("inside-search")?"search-result-haha":"search-result"}}},{key:"render",value:function(){var e=c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"loader"}),c.a.createElement("h1",null,"Not found")),t=c.a.createElement("div",{id:"search-results",className:"search-result"},this.state.sResult.length>0||""===this.state.searchValue?this.showMoveis():e," ");return c.a.createElement(c.a.Fragment,null,this.state.redirect&&c.a.createElement(N.a,{to:"/smovie/".concat(this.state.searchValue?this.state.searchValue:"a")}),c.a.createElement("div",{className:"navbar"},c.a.createElement("div",{className:"component"},c.a.createElement("div",{className:"grid"},c.a.createElement(d.b,{to:"/",className:"no-p"},c.a.createElement("img",{className:"logo",src:"https://images.all-free-download.com/images/graphiclarge/movie_logo_design_text_reel_filmstrip_icons_decoration_6829232.jpg",alt:"logo"})),c.a.createElement("i",{onClick:this.searchClicked,className:"fas fa-search fa-2x"}),c.a.createElement("div",{className:"final-search"},c.a.createElement("form",{id:"search-box",className:"hide",onSubmit:this.handleSubmit},c.a.createElement("input",{autoComplete:"off",id:"inside-search",type:"text",value:this.state.searchValue,onChange:this.handleChange}),t)),c.a.createElement(d.c,{exact:!0,activeClassName:"active-link",to:"/"},"Home"),c.a.createElement(d.c,{activeClassName:"active-link",to:"/soon"},"Top Rated"),c.a.createElement(d.c,{activeClassName:"active-link",to:"/soon"},"Trending")))))}}]),t}(n.Component),w=(a(72),a(20),function(e){for(var t=e.page,a=e.changePages,o=1*e.len/e.MAXIMUM_NUMBER_OF_PAGES,l=Math.ceil(o),i=Object(n.useState)(!0),r=Object(s.a)(i,2),m=r[0],u=r[1],d=[],v=function(e){d.push(c.a.createElement("span",{className:"page-box",key:e,id:"page-box-".concat(e),onClick:function(){if(t!==e-1&&m){a(e-1);var n=document.getElementById("movieGrid");n.classList.contains("movie-grid")?n.classList.replace("movie-grid","swap-movies-reset"):n.classList.contains("swap-movies")?n.classList.replace("swap-movies","swap-movies-reset"):n.classList.replace("swap-movies-reset","swap-movies"),u(!1),setTimeout((function(){return u(!0)}),1500)}},disabled:!0}," ",e))},h=1;h<=l;h++)v(h);var p=document.querySelectorAll(".page-outside span"),E=document.getElementById("page-box-".concat(t+1));if(E){for(var f=0;f<p.length;f++)p[f].classList.contains("highlight")&&p[f]!==E&&p[f].classList.replace("highlight","page-box");E.classList.replace("page-box","highlight")}return c.a.createElement("div",{className:"page-outside",style:{display:"flex",justifyContent:"center",overflow:"hidden"}},d.map((function(e){return e})))});var C=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),c=a[0],o=a[1];return[c,function(e){o(e.target.value)},function(){o("")}]},S=a(25),x=a.n(S),k=(a(75),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleCancel=function(){a.props.cancel(!0)},a.handleDelete=function(){a.props.delete(a.props.movieId)},a.state={deleteDialog:a.props.deleteDialog},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.props.deleteDialog&&c.a.createElement("div",{className:"whole-page"},c.a.createElement("div",{className:"delete-dialog"},c.a.createElement("h1",null,"Are you sure you want to delete?"),c.a.createElement("div",{className:"options"},c.a.createElement("h1",{onClick:this.handleCancel,className:"btn-cancel"},"Cancel"),c.a.createElement("h1",{onClick:this.handleDelete,className:"btn-delete"},"Delete"))))}}]),t}(n.Component)),D=(a(76),function(e){var t=e.data,a=e.closePage,n=t.Title,o=t.Year,l=t.Plot,i=t.Poster;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",alignContent:"center",justifyContent:"space-between",padding:"3rem"}},c.a.createElement("div",{style:{flex:4}},c.a.createElement("img",{src:i,className:"mobiePhoto"})),c.a.createElement("div",{className:"movieDetails",style:{flex:3}},c.a.createElement("h1",null,n," "),c.a.createElement("h1",null,o," "),c.a.createElement("h1",{className:"plot"},l," "))),c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(e){u.a.post("http://localhost:8080/api/movie",{movieName:n,movieDescription:l,movieYoutube:n,moviePhoto:i})}},c.a.createElement("button",{type:"submit",className:"add-button",style:{marginRight:20}},"Add"),c.a.createElement("button",{className:"add-button",onClick:a},"Cancel"))))});function M(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),m=i[0],v=i[1],p=Object(n.useState)(!1),E=Object(s.a)(p,2),f=E[0],b=E[1],g=Object(n.useState)(0),N=Object(s.a)(g,2),y=N[0],j=N[1],S=Object(n.useState)(0),M=Object(s.a)(S,2),P=M[0],L=M[1],I=C(""),R=Object(s.a)(I,3),B=R[0],F=R[1],_=R[2],T=C(""),A=Object(s.a)(T,3),V=A[0],U=A[1],Y=A[2],q=C(""),G=Object(s.a)(q,3),H=G[0],J=G[1],W=G[2],X=C(""),z=Object(s.a)(X,3),$=z[0],K=z[1],Q=z[2],Z=C(""),ee=Object(s.a)(Z,3),te=ee[0],ae=ee[1],ne=ee[2],ce=Object(n.useState)(!1),oe=Object(s.a)(ce,2),le=oe[0],ie=oe[1],re=Object(n.useState)({}),se=Object(s.a)(re,2),me=se[0],ue=se[1],de=Object(n.useState)(0),ve=Object(s.a)(de,2),he=ve[0],pe=ve[1],Ee=Object(n.useState)(0),fe=Object(s.a)(Ee,2),be=fe[0],ge=fe[1],Ne=Object(n.useState)(!1),ye=Object(s.a)(Ne,2),je=(ye[0],ye[1],Object(n.useState)(!1)),Oe=Object(s.a)(je,2),we=Oe[0],Ce=Oe[1],Se=Object(n.useState)(!0),xe=Object(s.a)(Se,2),ke=xe[0],De=xe[1],Me=Object(n.useState)(""),Pe=Object(s.a)(Me,2),Le=Pe[0],Ie=Pe[1],Re=Object(n.useState)(!1),Be=Object(s.a)(Re,2),Fe=Be[0],_e=Be[1];Object(n.useEffect)((function(){r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.get("http://localhost:8080/api/page?page=".concat(he,"&size=").concat(8)).then((function(e){setTimeout((function(){return o(e.data.content)}),500),ge(e.data.totalElements)}));case 1:case"end":return e.stop()}}))}),[f,m,P,he,be]);var Te=function(){_(),W(),Q(),ne(),Y()},Ae=function(e){Te(),v(!m),e.preventDefault()},Ve=function(){return H&&$&&B&&te},Ue=function(e){L(0)},Ye=le?c.a.createElement("div",{className:"py-8"},c.a.createElement(D,{data:me,closePage:function(){return ie(!1)}})):c.a.createElement("div",{style:{display:"flex",alignContent:"space-between",alignItems:"space-between"}},c.a.createElement("form",{id:"showFormId",onReset:Ae,onSubmit:function(e){e.preventDefault(),u.a.get("http://www.omdbapi.com/?t=".concat(V,"&apikey=b47ef3db")).then((function(e){var t=e.data;if("False"===t.Response)throw t;console.log(t),ue(t),ie(!0)})).catch((function(){console.log("Movie Not Found")}))},className:"add-movie-form py-8",style:{alignSelf:"center"}},c.a.createElement("input",{autoComplete:"off",placeholder:"Movie Name",type:"text",name:"movieSearch",value:V,onChange:U}),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("button",{type:"submit",className:"add-button"},"Search"))),c.a.createElement("h1",{className:"or"},"OR"),c.a.createElement("form",{id:"showFormId",onReset:Ae,onSubmit:function(e){Ve()&&u.a.post("http://localhost:8080/api/movie",{movieName:B,movieDescription:H,movieYoutube:te,moviePhoto:$}),Te(),setTimeout((function(){v(!m)}),100),e.preventDefault()},className:"add-movie-form py-8"},c.a.createElement("input",{autoComplete:"off",placeholder:"Movie Name",type:"text",name:"movieTitle",value:B,onChange:F}),c.a.createElement("input",{autoComplete:"off",placeholder:"Movie Plot",type:"text",name:"movieDescription",value:H,onChange:J}),c.a.createElement("input",{autoComplete:"off",placeholder:"Movie Photo Link",type:"text",name:"moviePhoto",value:$,onChange:K}),c.a.createElement("input",{autoComplete:"off",placeholder:"Movie Youtube Link",type:"text",name:"movieYoutube",value:te,onChange:ae}),ke?c.a.createElement("button",{id:"browse",type:"button",onClick:function(){document.getElementById("file-upload").click(),Ce(!0)}},"Browse"):c.a.createElement("button",{id:"browse",type:"button",style:{color:"#555",cursor:"not-allowed"}},"Browse"),Le?c.a.createElement("h1",{id:"file-movie-name",style:{textAlign:"center "}},Le):Fe&&c.a.createElement("div",{className:"loader"}),c.a.createElement("input",{type:"file",id:"file-upload"}),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("button",{type:"submit",className:"add-button"},"Add Movie"),c.a.createElement("button",{type:"reset",className:"add-button"},"Cancel")))),qe=c.a.createElement("div",{className:"movie-grid"},c.a.createElement(h,null),c.a.createElement(h,null),c.a.createElement(h,null),c.a.createElement(h,null)),Ge=c.a.createElement("div",{className:"addMovieId",style:{marginTop:200}},c.a.createElement("h1",null,"Help us improve our website by making it the biggest movie library"),c.a.createElement("button",{className:"add-button",onClick:function(){v(!m)}},"Add Movie")),He=c.a.createElement("div",null,m?Ye:Ge),Je=document.getElementById("file-upload");return Je&&Je.addEventListener("change",(function(){var e=this.files[0],t=new FormData;if(console.log(e),t.append("file",e),console.log("----\x3eFormData:".concat(t)),u()({url:"http://localhost:8080/api/upload",method:"POST",data:t}).then((function(e){})),we){var a=new FileReader;a.addEventListener("load",(function(){Ce(!1),Ie(e.name.substring(0,15)),De(!1),_e(!1)})),a.addEventListener("loadstart",(function(){return _e(!0)})),a.readAsDataURL(e)}})),c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement("div",{className:"center"},He,c.a.createElement(w,{len:be,changePages:function(e){pe(e)},page:he,MAXIMUM_NUMBER_OF_PAGES:8}),c.a.createElement("div",{className:"component"},a.length>0?c.a.createElement("div",{id:"movieGrid",className:"movie-grid"},a.map((function(e){return c.a.createElement("div",{className:"whole-movie",key:x()()},e.id===P?c.a.createElement("div",{className:"movie-photo-no-hover"},c.a.createElement(h,{id:e.id,name:e.movieName,desc:e.movieDescription,photo:e.moviePhoto,youtube:e.movieYoutube,edited:e.id===P,edit:Ue})):c.a.createElement("div",null,c.a.createElement(d.b,{to:"/movie/".concat(e.id),className:"no-p no-m"},c.a.createElement("div",{className:"movie-photo",id:"movie-photo-".concat(e.id)},c.a.createElement(h,{key:x()(),id:e.id,name:e.movieName,desc:e.movieDescription,photo:e.moviePhoto,edited:e.id===P}))),c.a.createElement("div",{className:"movie-options"},c.a.createElement("i",{onClick:function(){return L(e.id)},className:"fas fa-pen fa-2x edit"}),c.a.createElement("i",{onClick:function(){j(e.id),b(!0)},className:"far fa-trash-alt fa-2x trash"}))))}))):qe),c.a.createElement(k,{movieId:y,delete:function(e){u.a.delete("http://localhost:8080/api/movie/".concat(e)),setTimeout((function(){return b(!1)}),100)},deleteDialog:f,cancel:function(e){b(!e)}})))}var P=function(e){return Object(n.useEffect)((function(){document.title="Movie Night"})),c.a.createElement("div",{className:"homePage"},c.a.createElement("div",null,c.a.createElement(M,null)))},L=a(26);a(77);var I=function(e){var t,a,o=Object(n.useState)(),l=Object(s.a)(o,2),i=l[0],r=l[1];return Object(n.useEffect)((function(){u.a.get("http://localhost:8080/api/movie/".concat(e.id)).then((function(e){r(e.data),document.title=e.data.movieName})),console.log("Hmm")}),[]),c.a.createElement("div",{className:"single-movie-bg-primary"},c.a.createElement(O,null),c.a.createElement("div",{className:"component"},i?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"single-movie-grid py-5"},c.a.createElement("div",{className:"single-movie-photo"},c.a.createElement("img",{src:(a=i.moviePhoto,"http"===a.substring(0,4)?a:"/".concat(a)),alt:"movie",className:"movie"})),c.a.createElement("div",{className:"p1"},c.a.createElement("div",{className:"movie-details"},c.a.createElement("h1",{className:"center"},i.movieName),c.a.createElement("br",null),c.a.createElement("h3",{className:"bg-secondary"},"Story"),c.a.createElement("h5",{className:"py-1 justify"},i.movieDescription)),c.a.createElement("iframe",(t={width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(i.movieYoutube),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0},Object(L.a)(t,"height","400px"),Object(L.a)(t,"width","500px"),t))))):c.a.createElement("h1",null,"Loading..."),c.a.createElement("div",{className:"download"},c.a.createElement("h1",{onClick:function(){return u()({url:"http://localhost:8080/api/download/".concat(i.id),method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","".concat(i.movieName,".mp4")),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t)}))}},"Download"))))};function R(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],l=a[1];Object(n.useEffect)((function(){!function(){var t;r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(u.a.get("http://localhost:8080/api/smovie/".concat(e.name)));case 2:t=a.sent,l(t.data);case 4:case"end":return a.stop()}}))}()}),[o]);var i=c.a.createElement("h1",null,"Not found...");return c.a.createElement("div",{className:"bg-primary"},c.a.createElement(O,null),c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"component py-8"},o.length>0?c.a.createElement("div",{className:"movie-grid "},o.map((function(e){return c.a.createElement(d.b,{to:"/movie/".concat(e.id),className:"movie-photo no-p"},c.a.createElement(h,{key:e.id,id:e.id,name:e.movieName,desc:e.movieDescription,photo:e.moviePhoto}))}))):i)))}var B=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement("h1",{style:{marginTop:"20rem"}},"Coming soon ..."),c.a.createElement(w,null))};var F=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(N.d,null,c.a.createElement(N.b,{exact:!0,path:"/movie/:id",render:function(e){return c.a.createElement(I,{id:e.match.params.id})}}),c.a.createElement(N.b,{exact:!0,path:"/smovie/:moviename",render:function(e){return c.a.createElement(R,{name:e.match.params.moviename})}}),c.a.createElement(N.b,{path:"/soon",component:B}),c.a.createElement(N.b,{path:"/",component:P})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(d.a,null,c.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.2cd563f1.chunk.js.map